<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salt GUI</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-left">
                <button class="btn btn-connect">Manage Devices<span class="notification-badge">0</span></button>
                <!--<button class="btn btn-disconnect">Disconnect Device</button>-->
            </div>
            <div class="header-right">
                <span class="minion-counter">Devices Connected: 0</span>
                <span class="running-scripts-counter">Running Scripts: 0</span>
                <span>Server Status: Alive</span>
                <span id="settings-icon" class="settings-icon">&#9881;</span>
            </div>
        </header>
        <main>
            <div class="column">
                <h2>Available Devices</h2>
                <p>Click on a device name to select it to run the script<br>Use CTRL+click to select multiple devices</p>
                <ul id="device-list">
                    <li>No Connected Devices Found</li>
                    <!--<li>Device #1</li>
                    <li>Device #2</li>
                    <li class="selected">Device #3</li>
                    <li class="selected">Device #4</li>
                    <li>Device #6</li>-->
                </ul>
            </div>
            <div class="column">
                <h2>Available Scripts</h2>
                <p>Click on a script to select it for deployment<br>Use CTRL+click to select multiple scripts</p>
                <div id="script-type-selector" style="margin-bottom: 10px;">
                    <input type="radio" id="custom-scripts" name="script-type" value="custom" checked>
                    <label for="custom-scripts">Custom</label>
                    <input type="radio" id="salt-scripts" name="script-type" value="salt">
                    <label for="salt-scripts">Salt</label>

                </div>
                <input type="text" id="script-search" placeholder="Search scripts..." style="width: 95%; margin-bottom: 10px; padding: 5px;">
                <ul id="script-list">
                    <li>No Scripts Found</li>
                    <!--<li>example_script1.sh</li>
                    <li>example_script1.ps1</li>
                    <li class="selected">example_script2.sh</li>
                    <li>example_script2.ps1</li>
                    <li>example_script3.sh</li>
                    <li>example_script3.ps1</li>
                    <li class="selected">example_script4.sh</li>
                    <li>example_script4.ps1</li>-->
                </ul>
                <div id="script-args-container"></div>
                <div id="custom-script-context-menu" class="context-menu">
                    <div class="context-menu-item" id="context-menu-view">View</div>
                </div>
                <div id="custom-script-options">
                    <div id="error-message" style="color: red; margin-bottom: 10px;"></div>
                    <div class="script-arg-item" id="fallback-args-container">
                        <label for="manual-args">Manual Arguments (comma-separated)</label>
                        <input type="text" id="manual-args" name="manual-args" placeholder="arg1,arg2,arg3">
                    </div>
                    <div class="script-arg-item">
                        <label for="append-command">Append Command</label>
                        <input type="text" id="append-command" name="append-command" placeholder="e.g. | grep &quot;value&quot;">
                    </div>
                </div>
                <button class="btn btn-deploy">Deploy</button>
            </div>
            <div class="column">
                <h2>System Monitoring</h2>
                <div class="system-monitoring-controls">
                    <select id="monitoring-device-select">
                        <option value="">Select Device to View</option>
                    </select>
                    <select id="monitoring-view-select">
                        <option value="">Select View</option>
                        <option value="firewall-rules">Firewall Rules</option>
                        <option value="running-processes">Running Processes</option>
                    </select>
                    <button class="btn btn-open-terminal">Open Terminal</button>
                    <button class="btn btn-refresh">Refresh</button>
                </div>
                <div class="system-monitoring-output">
                    <div class="system-monitoring-output-header">
                        <span>Device Status: N/A</span>
                        <span>Detected OS: N/A</span>
                        <span>Running Scripts: N/A</span>
                    </div>
                    <div class="system-monitoring-output-content">
                        <p>This area displays a variety of text based content based on the drop-down selections.</p>
                        <p>All text in this area will follow the same format regardless of the output selection.</p>
                    </div>
                </div>
            </div>
        </main>
        <div id="output-console"></div>
    </div>
    <script src="script.js"></script>
    <div id="connect-device-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Connect New Devices</h2>
            <p>The following devices are awaiting key acceptance:</p>
            <ul id="unaccepted-keys-list">
                <!-- Unaccepted keys will be populated here -->
            </ul>
            <br>
            <h2>Accepted Devices</h2>
            <p>The following devices are currently connected:</p>
            <ul id="accepted-keys-list">
                <!-- Accepted keys will be populated here -->
            </ul>
        </div>
    </div>

    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <span id="settings-close-button" class="close-button">&times;</span>
            <h2>Settings</h2>
            <form id="settings-form">
                <div class="script-arg-item">
                    <label for="proxyURL">Proxy URL</label>
                    <input type="text" id="proxyURL" name="proxyURL">
                </div>
                <div class="script-arg-item">
                    <label for="saltAPIUrl">Salt API URL</label>
                    <input type="text" id="saltAPIUrl" name="saltAPIUrl">
                </div>
                <div class="script-arg-item">
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username">
                </div>
                <div class="script-arg-item">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password">
                </div>
                <div class="script-arg-item">
                    <label for="eauth">Eauth</label>
                    <input type="text" id="eauth" name="eauth">
                </div>
                <button type="submit" class="btn">Save Settings</button>
            </form>
        </div>
    </div>

    <div id="script-viewer-modal" class="modal">
        <div class="modal-content modal-lg">
            <span id="script-viewer-close-button" class="close-button">&times;</span>
            <h2 id="script-viewer-title">Script Content</h2>
            <div id="script-viewer-content" class="code-display">
                <pre><code>Loading script content...</code></pre>
            </div>
            <!-- <button id="edit-script-btn" class="btn">Edit</button> -->
            <!-- <button id="save-script-btn" class="btn" style="display:none;">Save</button> -->
        </div>
    </div>
</body>
</html>